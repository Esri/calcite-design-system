<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />

    <title>Boomer v Millennial - California</title>

    <script src="../_assets/head.js"></script>
    <script>
      const dojoConfig = {
        has: {
          "esri-layerlist-new-ui": 1,
        },
      };
    </script>
    <script src="https://js.arcgis.com/next/"></script>
    <link disabled id="jsapi-mode-dark" rel="stylesheet" href="https://js.arcgis.com/next/esri/themes/dark/main.css" />
    <link id="jsapi-mode-light" rel="stylesheet" href="https://js.arcgis.com/next/esri/themes/light/main.css" />
    <style>
      html,
      body,
      main,
      .shell-container {
        position: relative;
        width: 100%;
        height: calc(99vh - 80px);
      }
    </style>
    <style>
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }
    </style>

    <script>
      require(["esri/WebMap", "esri/views/MapView", "esri/widgets/LayerList", "esri/widgets/Zoom"], function (
        WebMap,
        MapView,
        LayerList,
        Zoom,
      ) {
        const customWebMap = new WebMap({
          portalItem: {
            id: "cc316ca9e0824970ad29ac558161d42d",
          },
          basemap: "gray-vector", // Overrides webmap basemap (dark-gray-vector)
        });

        const view = new MapView({
          container: "viewDiv",
          map: customWebMap,
        });
        view.when(function () {
          const layerList = new LayerList({
            view: view,
            selectionEnabled: true,
            container: "layerlist-container",
          });

          view.ui.move("zoom", "bottom-right");

          // mode switch
          document.getElementById("toggle-mode").addEventListener("click", (event) => {
            const dark = document.getElementById("jsapi-mode-dark");
            const light = document.getElementById("jsapi-mode-light");
            dark.toggleAttribute("disabled");
            light.toggleAttribute("disabled");
            customWebMap.basemap = dark.hasAttribute("disabled") ? "gray-vector" : "dark-gray-vector";
          });
        });
      });
    </script>
  </head>

  <body>
    <demo-dom-swapper>
      <main>
        <div class="shell-container">
          <calcite-shell>
            <calcite-shell-panel id="primary-panel" slot="panel-start" position="start" display-mode="float">
              <calcite-action-bar slot="action-bar">
                <calcite-action-group>
                  <calcite-action text="Save" icon="save" indicator> </calcite-action>
                  <calcite-action text-enabled icon="map" text="New" slot="menu-actions"> </calcite-action>
                  <calcite-action text-enabled icon="collection" text="Open" slot="menu-actions"> </calcite-action>
                </calcite-action-group>
                <calcite-action-group>
                  <calcite-action icon="layers" text="Layers" active> </calcite-action>
                  <calcite-action icon="basemap" text="Basemaps"> </calcite-action>
                  <calcite-action icon="legend" text="Legend"> </calcite-action>
                  <calcite-action icon="bookmark" text="Bookmarks"> </calcite-action>
                </calcite-action-group>
                <calcite-action-group>
                  <calcite-action text="Share" icon="share"></calcite-action>
                  <calcite-action text="Print" icon="print"></calcite-action>
                </calcite-action-group>
                <calcite-action-group slot="actions-end">
                  <calcite-action text="Feedback" icon="speech-bubble-plus"></calcite-action>
                  <calcite-action text="What's next" icon="mega-phone"></calcite-action>
                </calcite-action-group>
              </calcite-action-bar>
              <calcite-panel heading="Layers" height-scale="l" width-scale="m">
                <div id="layerlist-container"></div>
                <calcite-fab slot="fab" id="layer-fab" text="Add layers"></calcite-fab>
                <calcite-tooltip label="tooltip" reference-element="layer-fab" pointer-disabled
                  >Add layers
                </calcite-tooltip>
              </calcite-panel>
            </calcite-shell-panel>

            <calcite-shell-panel slot="panel-end" position="end">
              <calcite-action-bar slot="action-bar">
                <calcite-tooltip slot="expand-tooltip" label="tooltip" pointer-disabled>Add layers</calcite-tooltip>
                <calcite-action-group>
                  <calcite-action text="Layer properties" icon="sliders-horizontal"> </calcite-action>
                  <calcite-action text="Styles" icon="shapes"> </calcite-action>
                  <calcite-action text="Filter" icon="layer-filter"> </calcite-action>
                  <calcite-action text="Configure pop-ups" icon="popup" active> </calcite-action>
                  <calcite-action text-enabled text="Configure attributes" icon="feature-details" slot="menu-actions">
                  </calcite-action>
                  <calcite-action text-enabled text="Labels" icon="label" slot="menu-actions"> </calcite-action>
                  <calcite-action text-enabled text="Tablew" icon="table" slot="menu-actions"> </calcite-action>
                </calcite-action-group>
                <calcite-action-group>
                  <calcite-action icon="search" text="Search"></calcite-action>
                  <calcite-action icon="measure" text="Measure"></calcite-action>
                  <calcite-action text-enabled icon="road-sign" text="Directions" slot="menu-actions"></calcite-action>
                  <calcite-action text-enabled icon="point" text="Location" slot="menu-actions"></calcite-action>
                  <calcite-action text-enabled icon="pencil-square" text="Edit" disabled slot="menu-actions">
                  </calcite-action>
                  <calcite-action text-enabled icon="clock" text="Time" disabled slot="menu-actions"></calcite-action>
                </calcite-action-group>
                <calcite-action-group slot="actions-end">
                  <calcite-action text="Tips" id="tip-manager-button">
                    <calcite-icon icon="lightbulb" scale="s"></calcite-icon>
                  </calcite-action>
                </calcite-action-group>
              </calcite-action-bar>
              <calcite-flow id="flow">
                <calcite-flow-item
                  heading="Configure popup"
                  description="Popular Demographics in the United States (Beta) - County"
                  width-scale="m"
                >
                  <calcite-action slot="header-actions-end" icon="x" text="Close"> </calcite-action>

                  <calcite-block heading="Title" summary="County: {NAME}" collapsible>
                    <calcite-icon icon="title" scale="m" slot="icon"></calcite-icon>
                    <div class="combo-control">
                      <div class="combo-button">
                        <button class="combo-button__main">County: {NAME}</button>
                        <calcite-action label="code icon" class="combo-action" scale="s" icon="code"></calcite-action>
                      </div>
                    </div>
                  </calcite-block>
                  <calcite-sortable-list>
                    <calcite-block drag-handle heading="Attributes" summary="2/98" collapsible>
                      <calcite-icon icon="feature-details" scale="m" slot="icon"></calcite-icon>
                      <calcite-action label="ellipsis" slot="control" icon="ellipsis" scale="m"></calcite-action>
                      <calcite-list drag-enabled>
                        <calcite-list-item
                          label="2018 Total Households (Esri)"
                          value="Households"
                          description="{TOTHH_CY}"
                        ></calcite-list-item>
                        <calcite-list-item
                          label="2018 Average Household Size (Esri)"
                          value="Household"
                          description="{AVGHHSZ_CY}"
                        ></calcite-list-item>
                      </calcite-list>
                      <div class="row">
                        <calcite-button id="attribute-add" round icon="plus" scale="s" width="full" kind="neutral"
                          >Select attributes</calcite-button
                        >
                      </div>
                    </calcite-block>
                    <calcite-block drag-handle heading="Image" collapsible>
                      <calcite-icon icon="image" scale="m" slot="icon"></calcite-icon>
                      <calcite-action label="ellipsis" slot="control" icon="ellipsis" scale="m"></calcite-action>
                      <section class="form-section">
                        <label>
                          URL
                          <input type="text" value="http://www.esri.com/" />
                        </label>
                      </section>
                      <calcite-block-section text="Options">
                        <section class="form-section">
                          <label>
                            Title
                            <input type="text" placeholder="My cool title" />
                          </label>
                          <label>
                            Caption
                            <input type="text" placeholder="My cool caption" />
                          </label>
                          <label>
                            State
                            <select placeholder="My cool caption">
                              <option value="Denial">Denial</option>
                              <option value="Grace">Grace</option>
                              <option value="Confusion">Confusion</option>
                            </select>
                          </label>
                        </section>
                      </calcite-block-section>
                      <calcite-block-section text="Advanced options">
                        <section class="form-section">
                          <label>
                            Title
                            <input type="text" placeholder="My cool title" />
                          </label>
                          <label>
                            Caption
                            <input type="text" placeholder="My cool caption" />
                          </label>
                          <label>
                            State
                            <select placeholder="My cool caption">
                              <option value="Denial">Denial</option>
                              <option value="Grace">Grace</option>
                              <option value="Confusion">Confusion</option>
                            </select>
                          </label>
                        </section>
                      </calcite-block-section>
                    </calcite-block>
                    <calcite-block drag-handle heading="Text" summary="Cool. he {expression/..." collapsible>
                      <calcite-icon icon="image" scale="m" slot="icon"></calcite-icon>
                      <calcite-action label="ellipsis" slot="control" icon="ellipsis" scale="m"></calcite-action>
                      <button class="multiline-button">
                        Cool. he {expression/expr1} population is {expression/expr2}%...
                      </button>
                    </calcite-block>
                  </calcite-sortable-list>
                  <calcite-fab slot="fab" id="label-fab" text="Add label class"></calcite-fab>
                  <calcite-tooltip label="tootltip" reference-element="label-fab" pointer-disabled>
                    Add label class
                  </calcite-tooltip>
                </calcite-flow-item>
              </calcite-flow>
            </calcite-shell-panel>
            <div class="gnav" slot="header">
              <h2>Boomer v Millennial - California</h2>
            </div>
            <calcite-tip-manager slot="center-row" id="tip-manager" hidden>
              <calcite-tip-group group-title="Astronomy">
                <calcite-tip heading="The Red Rocks and Blue Water">
                  <img
                    slot="thumbnail"
                    width="1000"
                    height="600"
                    src="./_assets/images/placeholder.svg"
                    alt="This is an image of nature."
                  />
                  <p>
                    This tip is how a tip should really look. It has a landscape or square image and a small amount of
                    text content. This paragraph is in an "info" slot.
                  </p>
                  <p>
                    This is another paragraph in a subsequent "info" slot. In publishing and graphic design, Lorem ipsum
                    is a placeholder text commonly used to demonstrate the visual form of a document without relying on
                    meaningful content (also called greeking). Replacing the actual content with placeholder text allows
                    designers to design the form of the content before the content itself has been produced.
                  </p>
                  <a href="http://www.esri.com">This is the "link" slot.</a>
                </calcite-tip>
                <calcite-tip heading="The Long Trees">
                  <img
                    slot="thumbnail"
                    width="1000"
                    height="600"
                    src="./_assets/images/placeholder.svg"
                    alt="This is an image of nature."
                  />
                  <p>
                    This tip has an image that is a pretty tall. And the text will run out before the end of the image.
                  </p>
                  <p>In astronomy, the terms object and body are often used interchangeably.</p>
                  <a href="http://www.esri.com">View Esri</a>
                </calcite-tip>
              </calcite-tip-group>
              <calcite-tip heading="Square Nature">
                <img
                  slot="thumbnail"
                  width="1000"
                  height="1000"
                  src="./_assets/images/placeholder.svg"
                  alt="This is an image of nature."
                />
                <p>This tip has an image that is square. And the text will run out before the end of the image.</p>
                <p>In astronomy, the terms object and body are often used interchangeably.</p>
                <p>
                  In publishing and graphic design, Lorem ipsum is a placeholder text commonly used to demonstrate the
                  visual form of a document without relying on meaningful content (also called greeking). Replacing the
                  actual content with placeholder text allows designers to design the form of the content before the
                  content itself has been produced.
                </p>
                <a href="http://www.esri.com">View Esri</a>
              </calcite-tip>
              <calcite-tip heading="The lack of imagery">
                <p>This tip has no image. As such, the content area will take up the entire width of the tip.</p>
                <p>
                  This is the next paragraph and should show how wide the content area is now. Of course, the width of
                  the overall tip will affect things. In astronomy, the terms object and body are often used
                  interchangeably.
                </p>
                <a href="http://www.esri.com">View Esri</a>
              </calcite-tip>
            </calcite-tip-manager>
            <div id="viewDiv"></div>

            <footer slot="footer">Footer</footer>
          </calcite-shell>
        </div>
        <calcite-popover
          label="right start popover"
          placement="right-start"
          reference-element="action-pad-button"
          add-click-handle
          class="popover"
        >
          <calcite-panel>
            <h3 class="heading" slot="header-content">WE CARE A LOT</h3>
            <calcite-list filter-enabled>
              <calcite-action slot="menu-actions" text="options">
                <calcite-icon icon="ellipsis" scale="s"></calcite-icon>
              </calcite-action>
              <calcite-list-item label="about disasters, fires, floods and killer bees" value="1"> </calcite-list-item>
              <calcite-list-item label="about the NASA shuttle falling in the sea" value="2"> </calcite-list-item>
              <calcite-list-item label="about starvation and the food that Live Aid bought" value="3">
              </calcite-list-item>
              <calcite-list-item label="about disease, baby rock, Hudson, rock," value="4"></calcite-list-item>
            </calcite-list>
            <calcite-button slot="footer" width="half">Yeah!</calcite-button>
            <calcite-button slot="footer" width="half" appearance="outline">Naw.</calcite-button>
          </calcite-panel>
        </calcite-popover>
        <script>
          const tipManagerButton = document.getElementById("tip-manager-button");
          const tipManager = document.getElementById("tip-manager");
          tipManagerButton.addEventListener("click", function () {
            tipManager.hasAttribute("hidden")
              ? tipManager.removeAttribute("hidden")
              : tipManager.setAttribute("hidden", "");
          });

          const flowNode = document.getElementById("flow");
        </script>
      </main>
    </demo-dom-swapper>
  </body>
</html>
