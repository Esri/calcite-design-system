/**
 * CSS Custom Properties
 *
 * These properties can be overridden using the component's tag as selector.
 *
 * @prop --calcite-combobox-text-color: Specifies the text color of the component.
 * @prop --calcite-combobox-text-color-hover: Specifies the text color of the component when hovered.
 * @prop --calcite-combobox-item-background-color-active: Specifies the background color of the component when active.
 * @prop --calcite-combobox-item-background-color-hover: Specifies the background color of the component when hovered.
 * @prop --calcite-combobox-selected-icon-color: Specifies the color of the selected indicator icon.
 * @prop --calcite-combobox-description-text-color: Specifies the text color of the component's description & short-heading.
 * @prop --calcite-combobox-description-text-color-press: Specifies the text color of the component's description & short-heading when hovered.
 * @prop --calcite-combobox-heading-text-color: Specifies the text color of the component heading.
 */

@include base-component();

.scale--s {
  @apply text-n2h;
  --calcite-combobox-item-spacing-unit-s: theme("spacing.1");
  --calcite-combobox-item-spacing-unit-l: theme("spacing.2");
  --calcite-combobox-item-selector-icon-size: theme("spacing.4");
  --calcite-internal-combobox-item-description-font-size: var(--calcite-font-size-xs);
}

.scale--m {
  @apply text-n1h;
  --calcite-combobox-item-spacing-unit-s: theme("spacing[1.5]");
  --calcite-combobox-item-spacing-unit-l: theme("spacing.3");
  --calcite-combobox-item-selector-icon-size: theme("spacing.4");
  --calcite-internal-combobox-item-description-font-size: var(--calcite-font-size-sm);
}

.scale--l {
  @apply text-0h;
  --calcite-combobox-item-spacing-unit-s: theme("spacing[2.5]");
  --calcite-combobox-item-spacing-unit-l: theme("spacing.4");
  --calcite-combobox-item-selector-icon-size: theme("spacing.6");
  --calcite-internal-combobox-item-description-font-size: var(--calcite-font-size);
}

.container {
  --calcite-combobox-item-indent-value: calc(
    var(--calcite-combobox-item-spacing-unit-l) * var(--calcite-combobox-item-spacing-indent-multiplier)
  );
}

:host(:focus) {
  @apply shadow-none;
}

@include disabled();

:host,
ul {
  @apply m-0 flex flex-col p-0;
}

:host(:focus),
ul:focus {
  @apply outline-none;
}

.label {
  @apply focus-base
  relative
  box-border
  flex
  w-full
  min-w-full
  cursor-pointer
  items-center
  no-underline
  ease-in-out;
  @include word-break();
  justify-content: space-around;
  gap: var(--calcite-combobox-item-spacing-unit-l);
  padding-block: var(--calcite-combobox-item-spacing-unit-s);
  padding-inline-end: var(--calcite-combobox-item-spacing-unit-l);
  padding-inline-start: var(--calcite-combobox-item-indent-value);

  color: var(--calcite-combobox-text-color, var(--calcite-color-text-3));
  transition-duration: var(--calcite-animation-timing);
}

:host([disabled]) .label {
  @apply cursor-default;
}

.label--active {
  @apply focus-inset;
}

.label:hover {
  background-color: var(--calcite-combobox-item-background-color-hover, var(--calcite-color-foreground-2));
  color: var(--calcite-combobox-text-color-hover, var(--calcite-color-text-1));
}

.label:active {
  background-color: var(--calcite-combobox-item-background-color-active, var(--calcite-color-foreground-3));
}

:host([selected]) .label,
.label:active {
  color: var(--calcite-combobox-text-color-hover, var(--calcite-color-text-1));

  .description,
  .short-text {
    color: var(--calcite-combobox-description-text-color-press, var(--calcite-color-text-2));
  }
}

.icon {
  @apply inline-flex
    opacity-0
    duration-150
    ease-in-out;
}

:host([selected]) .icon {
  @apply opacity-100;
  color: var(--calcite-combobox-selected-icon-color, var(--calcite-color-brand));
}

.icon--custom {
  margin-block-start: -1px;
}

.center-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  padding-block: 0;
}

.description {
  font-size: var(--calcite-internal-combobox-item-description-font-size);
}

.short-text {
  white-space: nowrap;
}

.heading {
  color: var(--calcite-combobox-heading-text-color, var(--calcite-color-text-1));
}

.description,
.short-text {
  color: var(--calcite-combobox-description-text-color, var(--calcite-color-text-3));
}

:host([selected]) {
  .heading {
    @apply font-medium;
  }
}

.heading,
.description,
.short-text {
  line-height: var(--calcite-font-line-height-relative-snug);
}

@include item-hidden();
@include text-highlight-item();
