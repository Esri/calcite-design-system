{"version":3,"names":["SLOTS","dropdownTrigger","dropdownCss","CalciteDropdownStyle0","Dropdown","this","items","groups","mutationObserver","createObserver","updateItems","resizeObserver","entries","resizeObserverCallback","openTransitionProp","guid","defaultAssignedElements","slotChangeHandler","event","target","assignedElements","flatten","setFilteredPlacements","el","flipPlacements","filteredFlipPlacements","filterComputedPlacements","updateTriggers","triggers","reposition","map","group","Array","from","querySelectorAll","reduce","previousValue","currentValue","updateSelectedItems","forEach","item","scale","updateGroups","filter","matches","entry","referenceEl","setDropdownWidth","scrollerEl","setMaxScrollerHeight","referenceElWidth","clientWidth","style","minWidth","maxScrollerHeight","getMaxScrollerHeight","maxHeight","setScrollerAndTransitionEl","observe","transitionEl","setReferenceEl","connectFloatingUI","floatingEl","setFloatingEl","keyDownHandler","composedPath","includes","defaultPrevented","key","open","closeCalciteDropdown","preventDefault","shiftKey","isActivationKey","openCalciteDropdown","focusOnFirstActiveOrFirstItem","getFocusableElement","getTraversableItems","find","selected","toggleOpenEnd","removeEventListener","addEventListener","defaultMenuPlacement","openHandler","onToggleOpenCloseComponent","disabled","handleDisabledChange","value","flipPlacementsHandler","maxItemsHandler","overlayPositioningHandler","placementHandler","handlePropsChange","setFocus","componentFocusable","focus","connectedCallback","childList","subtree","connectInteractive","componentWillLoad","setUpLoadableComponent","componentDidLoad","setComponentLoaded","componentDidRender","updateHostInteraction","disconnectedCallback","disconnect","disconnectInteractive","disconnectFloatingUI","render","h","Host","InteractiveContainer","class","id","onClick","onKeyDown","ref","toAriaBoolean","name","onSlotchange","FloatingCSS","animation","animationActive","role","delayed","placement","overlayPositioning","type","closeCalciteDropdownOnClick","closeCalciteDropdownOnEvent","stopPropagation","closeCalciteDropdownOnOpenEvent","pointerEnterHandler","pointerLeaveHandler","hidden","calciteInternalDropdownItemKeyEvent","keyboardEvent","detail","traversableItems","updateTabIndexOfItems","focusElementInGroup","handleItemSelect","calciteDropdownSelect","emit","closeOnSelectDisabled","requestedDropdownGroup","selectionMode","onBeforeOpen","calciteDropdownBeforeOpen","onOpen","calciteDropdownOpen","onBeforeClose","calciteDropdownBeforeClose","onClose","calciteDropdownClose","selectedItems","maxItems","itemsToProcess","groupHeaderHeight","children","index","isNaN","offsetTop","offsetHeight","length","focusTrigger","focusElement","tabIndex","CSS","container","containerLink","containerMulti","containerSingle","containerNone","icon","iconEnd","iconStart","itemContent","link","dropdownGroupCss","CalciteDropdownGroupStyle0","DropdownGroup","groupPosition","getGroupPosition","groupTitle","dropdownSeparator","updateActiveItemOnChange","requestedDropdownItem","calciteInternalDropdownItemChange","prototype","indexOf","call","parentElement","dropdownItemCss","CalciteDropdownItemStyle0","DropdownItem","initialize","href","label","iconFlipRtl","iconStartEl","flipRtl","getIconScale","contentNode","iconEndEl","slottedContent","contentEl","childLink","rel","itemRole","itemAria","emitRequestedItem","click","calciteInternalDropdownCloseRequest","parentEmittedChange","parentDropdownGroupEl","determineActiveItem","closest","calciteDropdownItemSelect","calciteInternalDropdownItemSelect"],"sources":["src/components/dropdown/resources.ts","src/components/dropdown/dropdown.scss?tag=calcite-dropdown&encapsulation=shadow","src/components/dropdown/dropdown.tsx","src/components/dropdown-item/resources.ts","src/components/dropdown-group/dropdown-group.scss?tag=calcite-dropdown-group&encapsulation=shadow","src/components/dropdown-group/dropdown-group.tsx","src/components/dropdown-item/dropdown-item.scss?tag=calcite-dropdown-item&encapsulation=shadow","src/components/dropdown-item/dropdown-item.tsx"],"sourcesContent":["export const SLOTS = {\n  dropdownTrigger: \"trigger\",\n};\n","/**\n * CSS Custom Properties\n *\n * These properties can be overridden using the component's tag as selector.\n *\n * @prop --calcite-dropdown-background-color: Specifies the background color of the component.\n * @prop --calcite-dropdown-width: [Deprecated] Specifies the width of the component's wrapper.\n */\n\n:host {\n  @apply inline-block;\n}\n\n@include disabled();\n\n.calcite-dropdown-wrapper {\n  @include floatingUIContainer(\"var(--calcite-z-index-dropdown)\");\n  @include floatingUIWrapper();\n}\n\n@include floatingUIElemAnim(\".calcite-dropdown-wrapper\");\n:host([open]) .calcite-dropdown-wrapper {\n  @include floatingUIWrapperActive();\n}\n\n.calcite-dropdown-content {\n  @apply w-auto\n    overflow-y-auto\n    overflow-x-hidden\n    max-h-menu;\n  inline-size: var(--calcite-dropdown-width, var(--calcite-internal-dropdown-width));\n  background-color: var(--calcite-dropdown-background-color, var(--calcite-color-foreground-1));\n}\n.calcite-trigger-container {\n  @apply relative flex flex-auto;\n  @include word-break;\n  block-size: var(--calcite-container-size-content-fluid);\n}\n\n@media (forced-colors: active) {\n  /* use real border since box-shadow is removed in high contrast mode */\n  :host([open]) .calcite-dropdown-wrapper {\n    border: 1px solid canvasText;\n  }\n}\n\n// width\n:host([width-scale=\"s\"]) {\n  --calcite-internal-dropdown-width: theme(\"spacing.48\");\n}\n:host([width-scale=\"m\"]) {\n  --calcite-internal-dropdown-width: theme(\"spacing.56\");\n}\n:host([width-scale=\"l\"]) {\n  --calcite-internal-dropdown-width: theme(\"spacing.64\");\n}\n\n@include base-component();\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport { focusElement, focusElementInGroup, toAriaBoolean } from \"../../utils/dom\";\nimport {\n  connectFloatingUI,\n  defaultMenuPlacement,\n  disconnectFloatingUI,\n  EffectivePlacement,\n  filterComputedPlacements,\n  FloatingCSS,\n  FloatingUIComponent,\n  MenuPlacement,\n  OverlayPositioning,\n  reposition,\n} from \"../../utils/floating-ui\";\nimport { guid } from \"../../utils/guid\";\nimport {\n  connectInteractive,\n  disconnectInteractive,\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport { isActivationKey } from \"../../utils/key\";\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport { createObserver } from \"../../utils/observers\";\nimport { onToggleOpenCloseComponent, OpenCloseComponent } from \"../../utils/openCloseComponent\";\nimport { RequestedItem } from \"../dropdown-group/interfaces\";\nimport { Scale } from \"../interfaces\";\nimport { ItemKeyboardEvent } from \"./interfaces\";\nimport { SLOTS } from \"./resources\";\n\n/**\n * @slot - A slot for adding `calcite-dropdown-group` elements. Every `calcite-dropdown-item` must have a parent `calcite-dropdown-group`, even if the `groupTitle` property is not set.\n * @slot trigger - A slot for the element that triggers the `calcite-dropdown`.\n */\n@Component({\n  tag: \"calcite-dropdown\",\n  styleUrl: \"dropdown.scss\",\n  shadow: {\n    delegatesFocus: true,\n  },\n})\nexport class Dropdown\n  implements InteractiveComponent, LoadableComponent, OpenCloseComponent, FloatingUIComponent\n{\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * When `true`, displays and positions the component.\n   */\n  @Prop({ reflect: true, mutable: true }) open = false;\n\n  @Watch(\"open\")\n  openHandler(): void {\n    onToggleOpenCloseComponent(this);\n\n    if (this.disabled) {\n      this.open = false;\n      return;\n    }\n\n    this.reposition(true);\n  }\n\n  /**\n   * When `true`, the component will remain open after a selection is made.\n   *\n   * If the `selectionMode` of the selected `calcite-dropdown-item`'s containing `calcite-dropdown-group` is `\"none\"`, the component will always close.\n   *\n   */\n  @Prop({ reflect: true }) closeOnSelectDisabled = false;\n\n  /**\n   * When `true`, interaction is prevented and the component is displayed with lower opacity.\n   */\n  @Prop({ reflect: true }) disabled = false;\n\n  @Watch(\"disabled\")\n  handleDisabledChange(value: boolean): void {\n    if (!value) {\n      this.open = false;\n    }\n  }\n\n  /**\n   * Defines the available placements that can be used when a flip occurs.\n   */\n  @Prop() flipPlacements: EffectivePlacement[];\n\n  @Watch(\"flipPlacements\")\n  flipPlacementsHandler(): void {\n    this.setFilteredPlacements();\n    this.reposition(true);\n  }\n\n  /**\n   * Specifies the maximum number of `calcite-dropdown-item`s to display before showing a scroller.\n   * Value must be greater than `0`, and does not include `groupTitle`'s from `calcite-dropdown-group`.\n   */\n  @Prop({ reflect: true }) maxItems = 0;\n\n  @Watch(\"maxItems\")\n  maxItemsHandler(): void {\n    this.setMaxScrollerHeight();\n  }\n\n  /**\n   * Determines the type of positioning to use for the overlaid content.\n   *\n   * Using `\"absolute\"` will work for most cases. The component will be positioned inside of overflowing parent containers and will affect the container's layout.\n   *\n   * `\"fixed\"` should be used to escape an overflowing parent container, or when the reference element's `position` CSS property is `\"fixed\"`.\n   *\n   */\n  @Prop({ reflect: true }) overlayPositioning: OverlayPositioning = \"absolute\";\n\n  @Watch(\"overlayPositioning\")\n  overlayPositioningHandler(): void {\n    this.reposition(true);\n  }\n\n  /**\n   * Determines where the component will be positioned relative to the container element.\n   *\n   * @default \"bottom-start\"\n   */\n  @Prop({ reflect: true }) placement: MenuPlacement = defaultMenuPlacement;\n\n  @Watch(\"placement\")\n  placementHandler(): void {\n    this.reposition(true);\n  }\n\n  /**\n   * Specifies the component's selected items.\n   *\n   * @readonly\n   */\n  @Prop({ mutable: true }) selectedItems: HTMLCalciteDropdownItemElement[] = [];\n\n  /**\n   * Specifies the action to open the component from the container element.\n   */\n  @Prop({ reflect: true }) type: \"hover\" | \"click\" = \"click\";\n\n  /**\n   * Specifies the width of the component.\n   */\n  @Prop({ reflect: true }) widthScale: Scale;\n\n  /** Specifies the size of the component. */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  @Watch(\"scale\")\n  handlePropsChange(): void {\n    this.updateItems();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /** Sets focus on the component's first focusable element. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n    this.el.focus();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n    this.setFilteredPlacements();\n    if (this.open) {\n      this.openHandler();\n      onToggleOpenCloseComponent(this);\n    }\n    connectInteractive(this);\n    this.updateItems();\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n  }\n\n  componentWillLoad(): void {\n    setUpLoadableComponent(this);\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  disconnectedCallback(): void {\n    this.mutationObserver?.disconnect();\n    this.resizeObserver?.disconnect();\n    disconnectInteractive(this);\n    disconnectFloatingUI(this, this.referenceEl, this.floatingEl);\n  }\n\n  render(): VNode {\n    const { open, guid } = this;\n    return (\n      <Host>\n        <InteractiveContainer disabled={this.disabled}>\n          <div\n            class=\"calcite-trigger-container\"\n            id={`${guid}-menubutton`}\n            onClick={this.openCalciteDropdown}\n            onKeyDown={this.keyDownHandler}\n            ref={this.setReferenceEl}\n          >\n            <slot\n              aria-controls={`${guid}-menu`}\n              aria-expanded={toAriaBoolean(open)}\n              aria-haspopup=\"menu\"\n              name={SLOTS.dropdownTrigger}\n              onSlotchange={this.updateTriggers}\n            />\n          </div>\n          <div\n            aria-hidden={toAriaBoolean(!open)}\n            class=\"calcite-dropdown-wrapper\"\n            ref={this.setFloatingEl}\n          >\n            <div\n              aria-labelledby={`${guid}-menubutton`}\n              class={{\n                [\"calcite-dropdown-content\"]: true,\n                [FloatingCSS.animation]: true,\n                [FloatingCSS.animationActive]: open,\n              }}\n              id={`${guid}-menu`}\n              ref={this.setScrollerAndTransitionEl}\n              role=\"menu\"\n            >\n              <slot onSlotchange={this.updateGroups} />\n            </div>\n          </div>\n        </InteractiveContainer>\n      </Host>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Updates the position of the component.\n   *\n   * @param delayed\n   */\n  @Method()\n  async reposition(delayed = false): Promise<void> {\n    const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;\n\n    return reposition(\n      this,\n      {\n        floatingEl,\n        referenceEl,\n        overlayPositioning,\n        placement,\n        flipPlacements: filteredFlipPlacements,\n        type: \"menu\",\n      },\n      delayed,\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /** Fires when a `calcite-dropdown-item`'s selection changes. */\n  @Event({ cancelable: false }) calciteDropdownSelect: EventEmitter<void>;\n\n  /** Fires when the component is requested to be closed and before the closing transition begins. */\n  @Event({ cancelable: false }) calciteDropdownBeforeClose: EventEmitter<void>;\n\n  /** Fires when the component is closed and animation is complete. */\n  @Event({ cancelable: false }) calciteDropdownClose: EventEmitter<void>;\n\n  /** Fires when the component is added to the DOM but not rendered, and before the opening transition begins. */\n  @Event({ cancelable: false }) calciteDropdownBeforeOpen: EventEmitter<void>;\n\n  /** Fires when the component is open and animation is complete. */\n  @Event({ cancelable: false }) calciteDropdownOpen: EventEmitter<void>;\n\n  @Listen(\"click\", { target: \"window\" })\n  closeCalciteDropdownOnClick(event: PointerEvent): void {\n    if (this.disabled || !this.open || event.composedPath().includes(this.el)) {\n      return;\n    }\n\n    this.closeCalciteDropdown(false);\n  }\n\n  @Listen(\"calciteInternalDropdownCloseRequest\")\n  closeCalciteDropdownOnEvent(event: Event): void {\n    this.closeCalciteDropdown();\n    event.stopPropagation();\n  }\n\n  @Listen(\"calciteDropdownOpen\", { target: \"window\" })\n  closeCalciteDropdownOnOpenEvent(event: Event): void {\n    if (event.composedPath().includes(this.el)) {\n      return;\n    }\n\n    this.open = false;\n  }\n\n  @Listen(\"pointerenter\")\n  pointerEnterHandler(): void {\n    if (this.disabled || this.type !== \"hover\") {\n      return;\n    }\n\n    this.openCalciteDropdown();\n  }\n\n  @Listen(\"pointerleave\")\n  pointerLeaveHandler(): void {\n    if (this.disabled || this.type !== \"hover\") {\n      return;\n    }\n\n    this.closeCalciteDropdown();\n  }\n\n  private getTraversableItems(): HTMLCalciteDropdownItemElement[] {\n    return this.items.filter((item) => !item.disabled && !item.hidden);\n  }\n\n  @Listen(\"calciteInternalDropdownItemKeyEvent\")\n  calciteInternalDropdownItemKeyEvent(event: CustomEvent<ItemKeyboardEvent>): void {\n    const { keyboardEvent } = event.detail;\n    const target = keyboardEvent.target as HTMLCalciteDropdownItemElement;\n    const traversableItems = this.getTraversableItems();\n\n    switch (keyboardEvent.key) {\n      case \"Tab\":\n        this.open = false;\n        this.updateTabIndexOfItems(target);\n        break;\n      case \"ArrowDown\":\n        focusElementInGroup(traversableItems, target, \"next\");\n        break;\n      case \"ArrowUp\":\n        focusElementInGroup(traversableItems, target, \"previous\");\n        break;\n      case \"Home\":\n        focusElementInGroup(traversableItems, target, \"first\");\n        break;\n      case \"End\":\n        focusElementInGroup(traversableItems, target, \"last\");\n        break;\n    }\n\n    event.stopPropagation();\n  }\n\n  @Listen(\"calciteInternalDropdownItemSelect\")\n  handleItemSelect(event: CustomEvent<RequestedItem>): void {\n    this.updateSelectedItems();\n    event.stopPropagation();\n    this.calciteDropdownSelect.emit();\n    if (\n      !this.closeOnSelectDisabled ||\n      event.detail.requestedDropdownGroup.selectionMode === \"none\"\n    ) {\n      this.closeCalciteDropdown();\n    }\n    event.stopPropagation();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteDropdownElement;\n\n  filteredFlipPlacements: EffectivePlacement[];\n\n  private items: HTMLCalciteDropdownItemElement[] = [];\n\n  private groups: HTMLCalciteDropdownGroupElement[] = [];\n\n  /** trigger elements */\n  private triggers: HTMLElement[];\n\n  floatingEl: HTMLDivElement;\n\n  referenceEl: HTMLDivElement;\n\n  private scrollerEl: HTMLDivElement;\n\n  mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n\n  resizeObserver = createObserver(\"resize\", (entries) => this.resizeObserverCallback(entries));\n\n  openTransitionProp = \"opacity\";\n\n  transitionEl: HTMLDivElement;\n\n  guid = `calcite-dropdown-${guid()}`;\n\n  defaultAssignedElements: Element[] = [];\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  slotChangeHandler = (event: Event): void => {\n    this.defaultAssignedElements = (event.target as HTMLSlotElement).assignedElements({\n      flatten: true,\n    });\n\n    this.updateItems();\n  };\n\n  setFilteredPlacements = (): void => {\n    const { el, flipPlacements } = this;\n\n    this.filteredFlipPlacements = flipPlacements\n      ? filterComputedPlacements(flipPlacements, el)\n      : null;\n  };\n\n  updateTriggers = (event: Event): void => {\n    this.triggers = (event.target as HTMLSlotElement).assignedElements({\n      flatten: true,\n    }) as HTMLElement[];\n\n    this.reposition(true);\n  };\n\n  updateItems = (): void => {\n    this.items = this.groups\n      .map((group) => Array.from(group?.querySelectorAll(\"calcite-dropdown-item\")))\n      .reduce((previousValue, currentValue) => [...previousValue, ...currentValue], []);\n\n    this.updateSelectedItems();\n\n    this.reposition(true);\n\n    this.items.forEach((item) => (item.scale = this.scale));\n  };\n\n  updateGroups = (event: Event): void => {\n    const groups = (event.target as HTMLSlotElement)\n      .assignedElements({ flatten: true })\n      .filter((el) => el?.matches(\"calcite-dropdown-group\")) as HTMLCalciteDropdownGroupElement[];\n\n    this.groups = groups;\n\n    this.updateItems();\n  };\n\n  resizeObserverCallback = (entries: ResizeObserverEntry[]): void => {\n    entries.forEach((entry) => {\n      const { target } = entry;\n      if (target === this.referenceEl) {\n        this.setDropdownWidth();\n      } else if (target === this.scrollerEl) {\n        this.setMaxScrollerHeight();\n      }\n    });\n  };\n\n  setDropdownWidth = (): void => {\n    const { referenceEl, scrollerEl } = this;\n    const referenceElWidth = referenceEl?.clientWidth;\n\n    if (!referenceElWidth || !scrollerEl) {\n      return;\n    }\n\n    scrollerEl.style.minWidth = `${referenceElWidth}px`;\n  };\n\n  setMaxScrollerHeight = (): void => {\n    const { scrollerEl } = this;\n    if (!scrollerEl) {\n      return;\n    }\n\n    this.reposition(true);\n    const maxScrollerHeight = this.getMaxScrollerHeight();\n    scrollerEl.style.maxHeight = maxScrollerHeight > 0 ? `${maxScrollerHeight}px` : \"\";\n    this.reposition(true);\n  };\n\n  setScrollerAndTransitionEl = (el: HTMLDivElement): void => {\n    this.resizeObserver.observe(el);\n    this.scrollerEl = el;\n\n    this.transitionEl = el;\n  };\n\n  onBeforeOpen(): void {\n    this.calciteDropdownBeforeOpen.emit();\n  }\n\n  onOpen(): void {\n    this.calciteDropdownOpen.emit();\n  }\n\n  onBeforeClose(): void {\n    this.calciteDropdownBeforeClose.emit();\n  }\n\n  onClose(): void {\n    this.calciteDropdownClose.emit();\n  }\n\n  setReferenceEl = (el: HTMLDivElement): void => {\n    this.referenceEl = el;\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    this.resizeObserver.observe(el);\n  };\n\n  setFloatingEl = (el: HTMLDivElement): void => {\n    this.floatingEl = el;\n    connectFloatingUI(this, this.referenceEl, this.floatingEl);\n  };\n\n  private keyDownHandler = (event: KeyboardEvent): void => {\n    if (!event.composedPath().includes(this.referenceEl)) {\n      return;\n    }\n\n    const { defaultPrevented, key } = event;\n\n    if (defaultPrevented) {\n      return;\n    }\n\n    if (this.open) {\n      if (key === \"Escape\") {\n        this.closeCalciteDropdown();\n        event.preventDefault();\n        return;\n      } else if (event.shiftKey && key === \"Tab\") {\n        this.closeCalciteDropdown();\n        event.preventDefault();\n        return;\n      }\n    }\n\n    if (isActivationKey(key)) {\n      this.openCalciteDropdown();\n      event.preventDefault();\n    } else if (key === \"Escape\") {\n      this.closeCalciteDropdown();\n      event.preventDefault();\n    }\n  };\n\n  private updateSelectedItems(): void {\n    this.selectedItems = this.items.filter((item) => item.selected);\n  }\n\n  private getMaxScrollerHeight(): number {\n    const { maxItems, items } = this;\n    let itemsToProcess = 0;\n    let maxScrollerHeight = 0;\n    let groupHeaderHeight: number;\n\n    this.groups.forEach((group) => {\n      if (maxItems > 0 && itemsToProcess < maxItems) {\n        Array.from(group.children).forEach((item: HTMLCalciteDropdownItemElement, index) => {\n          if (index === 0) {\n            if (isNaN(groupHeaderHeight)) {\n              groupHeaderHeight = item.offsetTop;\n            }\n\n            maxScrollerHeight += groupHeaderHeight;\n          }\n\n          if (itemsToProcess < maxItems) {\n            maxScrollerHeight += item.offsetHeight;\n            itemsToProcess += 1;\n          }\n        });\n      }\n    });\n\n    return items.length > maxItems ? maxScrollerHeight : 0;\n  }\n\n  private closeCalciteDropdown(focusTrigger = true) {\n    this.open = false;\n\n    if (focusTrigger) {\n      focusElement(this.triggers[0]);\n    }\n  }\n\n  private focusOnFirstActiveOrFirstItem = (): void => {\n    this.getFocusableElement(\n      this.getTraversableItems().find((item) => item.selected) || this.items[0],\n    );\n  };\n\n  private getFocusableElement(item: HTMLCalciteDropdownItemElement): void {\n    if (!item) {\n      return;\n    }\n\n    focusElement(item);\n  }\n\n  private toggleOpenEnd = (): void => {\n    this.focusOnFirstActiveOrFirstItem();\n    this.el.removeEventListener(\"calciteDropdownOpen\", this.toggleOpenEnd);\n  };\n\n  private openCalciteDropdown = () => {\n    this.open = !this.open;\n    if (this.open) {\n      this.el.addEventListener(\"calciteDropdownOpen\", this.toggleOpenEnd);\n    }\n  };\n\n  private updateTabIndexOfItems(target: HTMLCalciteDropdownItemElement): void {\n    this.items.forEach((item: HTMLCalciteDropdownItemElement) => {\n      item.tabIndex = target !== item ? -1 : 0;\n    });\n  }\n}\n","export const CSS = {\n  container: \"container\",\n  containerLink: \"container--link\",\n  containerMulti: \"container--multi-selection\",\n  containerSingle: \"container--single-selection\",\n  containerNone: \"container--none-selection\",\n  icon: \"dropdown-item-icon\",\n  iconEnd: \"dropdown-item-icon-end\",\n  iconStart: \"dropdown-item-icon-start\",\n  itemContent: \"dropdown-item-content\",\n  link: \"dropdown-link\",\n};\n","/**\n * CSS Custom Properties\n *\n * These properties can be overridden using the component's tag as selector.\n *\n * @prop --calcite-dropdown-group-border-color: specifies the border color of the component.\n * @prop --calcite-dropdown-group-text-color: specifies the text color of the component.\n *\n */\n\n:host {\n  // we make the host relative, so items can consistently compute their offsetTop based on the group\n  @apply block relative;\n}\n\n.container {\n  text-align: start;\n}\n\n.container--s {\n  @apply text-n2h;\n  .dropdown-title {\n    @apply p-2;\n  }\n}\n\n.container--m {\n  @apply text-n1h;\n  .dropdown-title {\n    @apply p-3;\n  }\n}\n\n.container--l {\n  @apply text-0h;\n  .dropdown-title {\n    @apply p-4;\n  }\n}\n\n.dropdown-title {\n  @apply -mb-px\n  block\n  cursor-default\n  break-words\n  border-solid\n  font-bold;\n  border-width: var(--calcite-border-width-none);\n  border-block-end-width: var(--calcite-border-width-sm);\n  border-color: var(--calcite-dropdown-group-border-color, var(--calcite-color-border-3));\n  color: var(--calcite-dropdown-group-text-color, var(--calcite-color-text-2));\n}\n\n.dropdown-separator {\n  @apply block;\n  block-size: var(--calcite-size-px);\n  background-color: var(--calcite-dropdown-group-border-color, var(--calcite-color-border-3));\n}\n\n@include base-component();\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Prop,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport { Scale, SelectionMode } from \"../interfaces\";\nimport { createObserver } from \"../../utils/observers\";\nimport { CSS } from \"../dropdown-item/resources\";\nimport { RequestedItem } from \"./interfaces\";\n\n/**\n * @slot - A slot for adding `calcite-dropdown-item`s.\n */\n@Component({\n  tag: \"calcite-dropdown-group\",\n  styleUrl: \"dropdown-group.scss\",\n  shadow: {\n    delegatesFocus: true,\n  },\n})\nexport class DropdownGroup {\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /** Specifies and displays a group title. */\n  @Prop({ reflect: true }) groupTitle: string;\n\n  /**\n   * Specifies the size of the component inherited from the parent `calcite-dropdown`, defaults to `m`.\n   *\n   * @internal\n   */\n  @Prop() scale: Scale = \"m\";\n\n  /**\n   * Specifies the selection mode of the component, where:\n   *\n   * `\"multiple\"` allows any number of selections,\n   *\n   * `\"single\"` allows only one selection, and\n   *\n   * `\"none\"` does not allow any selections.\n   */\n  @Prop({ reflect: true }) selectionMode: Extract<\"none\" | \"single\" | \"multiple\", SelectionMode> =\n    \"single\";\n\n  @Watch(\"selectionMode\")\n  handlePropsChange(): void {\n    this.updateItems();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalDropdownItemChange: EventEmitter<RequestedItem>;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    this.updateItems();\n    this.mutationObserver?.observe(this.el, { childList: true });\n  }\n\n  componentWillLoad(): void {\n    this.groupPosition = this.getGroupPosition();\n  }\n\n  disconnectedCallback(): void {\n    this.mutationObserver?.disconnect();\n  }\n\n  render(): VNode {\n    const groupTitle = this.groupTitle ? (\n      <span aria-hidden=\"true\" class=\"dropdown-title\">\n        {this.groupTitle}\n      </span>\n    ) : null;\n\n    const dropdownSeparator =\n      this.groupPosition > 0 ? <div class=\"dropdown-separator\" role=\"separator\" /> : null;\n\n    return (\n      <Host aria-label={this.groupTitle} role=\"group\">\n        <div\n          class={{\n            [CSS.container]: true,\n            [`${CSS.container}--${this.scale}`]: true,\n          }}\n        >\n          {dropdownSeparator}\n          {groupTitle}\n          <slot />\n        </div>\n      </Host>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"calciteInternalDropdownItemSelect\")\n  updateActiveItemOnChange(event: CustomEvent): void {\n    this.requestedDropdownGroup = event.detail.requestedDropdownGroup;\n    this.requestedDropdownItem = event.detail.requestedDropdownItem;\n    this.calciteInternalDropdownItemChange.emit({\n      requestedDropdownGroup: this.requestedDropdownGroup,\n      requestedDropdownItem: this.requestedDropdownItem,\n    });\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteDropdownGroupElement;\n\n  /** position of group within a dropdown */\n  private groupPosition: number;\n\n  /** the requested group */\n  private requestedDropdownGroup: HTMLCalciteDropdownGroupElement;\n\n  /** the requested item */\n  private requestedDropdownItem: HTMLCalciteDropdownItemElement;\n\n  private updateItems = (): void => {\n    Array.from(this.el.querySelectorAll(\"calcite-dropdown-item\")).forEach(\n      (item) => (item.selectionMode = this.selectionMode),\n    );\n  };\n\n  mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  private getGroupPosition(): number {\n    return Array.prototype.indexOf.call(\n      this.el.parentElement.querySelectorAll(\"calcite-dropdown-group\"),\n      this.el,\n    );\n  }\n}\n","/**\n * CSS Custom Properties\n *\n * These properties can be overridden using the component's tag as selector.\n *\n * @prop --calcite-dropdown-item-background-color: Specifies the background color of the component.\n * @prop --calcite-dropdown-item-icon-color: Specifies the color of an icon in the component.\n * @prop --calcite-dropdown-item-indicator-color: Specifies the color of the indicator dot on the component.\n * @prop --calcite-dropdown-item-text-color: Specifies the text color of the component.\n *\n */\n\n:host {\n  @apply focus-base relative\n    flex\n    flex-grow\n    items-center;\n}\n\n// Host states\n:host(:hover),\n:host(:active),\n:host(:focus) {\n  .container {\n    --calcite-internal-dropdown-item-text-color: var(--calcite-color-text-1);\n    @apply no-underline;\n  }\n}\n:host(:focus) {\n  @apply focus-inset outline-none;\n}\n:host(:hover) {\n  .container {\n    --calcite-internal-dropdown-item-icon-opacity: var(--calcite-opacity-full);\n    --calcite-internal-dropdown-item-background-color: var(--calcite-color-foreground-2);\n    --calcite-internal-dropdown-item-indicator-color: var(--calcite-color-border-1);\n  }\n}\n:host(:active) {\n  .container {\n    --calcite-internal-dropdown-item-background-color: var(--calcite-color-foreground-3);\n  }\n}\n\n:host([selected]) {\n  .container:not(.container--none-selection) {\n    --calcite-internal-dropdown-item-icon-color: var(--calcite-color-brand);\n    --calcite-internal-dropdown-item-icon-opacity: var(--calcite-opacity-full);\n    --calcite-internal-dropdown-item-indicator-color: var(--calcite-color-brand);\n    --calcite-internal-dropdown-item-text-color: var(--calcite-color-text-1);\n    @apply font-medium;\n  }\n}\n\n// default item styling\n.container,\n.dropdown-link {\n  @apply relative\n    flex\n    flex-grow\n    cursor-pointer\n    items-center\n    no-underline\n    duration-150\n    ease-in-out;\n  padding-inline-start: var(--calcite-internal-dropdown-item-space-x-start, theme(\"padding.8\"));\n  padding-inline-end: var(--calcite-internal-dropdown-item-space-x-end, theme(\"padding.3\"));\n  font-size: var(--calcite-internal-dropdown-item-font-size, var(--calcite-font-size--1));\n  line-height: var(--calcite-internal-dropdown-item-line-height, 1rem);\n  padding-block: var(--calcite-internal-dropdown-item-space-y, 0.5rem);\n  color: var(\n    --calcite-dropdown-item-text-color,\n    var(--calcite-internal-dropdown-item-text-color, var(--calcite-color-text-3))\n  );\n}\n\n// main dropdown container - always has .container & .container--[scale]\n.container {\n  text-align: start;\n  background-color: var(\n    --calcite-dropdown-item-background-color,\n    var(--calcite-internal-dropdown-item-background-color, none)\n  );\n\n  &.container--none-selection {\n    .dropdown-link {\n      --calcite-internal-dropdown-item-space-x-start: theme(\"padding.0\");\n    }\n  }\n\n  // when used as link move styling anchor\n  &.container--link:not(.container--none-selection) {\n    padding: 0;\n  }\n  &.container--link.container--none-selection {\n    padding-inline-end: 0;\n    padding-block: 0;\n  }\n}\n.container--s {\n  --calcite-internal-dropdown-item-font-size: var(--calcite-font-size--2);\n  --calcite-internal-dropdown-item-icon-space-x-lg: theme(\"margin.2\");\n  --calcite-internal-dropdown-item-icon-space-x-sm: theme(\"margin.1\");\n  --calcite-internal-dropdown-item-icon-space-x-start: theme(\"spacing.1\");\n  --calcite-internal-dropdown-item-line-height: 1rem;\n  --calcite-internal-dropdown-item-space-x-end: theme(\"padding.2\");\n  --calcite-internal-dropdown-item-space-x-start: theme(\"padding.6\");\n  --calcite-internal-dropdown-item-space-y: 0.25rem;\n\n  // none-selection mode\n  &.container--none-selection {\n    --calcite-internal-dropdown-item-space-x-start: theme(\"padding.1\");\n  }\n}\n.container--m {\n  --calcite-internal-dropdown-item-font-size: var(--calcite-font-size--1);\n  --calcite-internal-dropdown-item-icon-space-x-lg: theme(\"margin.3\");\n  --calcite-internal-dropdown-item-icon-space-x-sm: theme(\"margin.1\");\n  --calcite-internal-dropdown-item-icon-space-x-start: theme(\"spacing.2\");\n  --calcite-internal-dropdown-item-line-height: 1rem;\n  --calcite-internal-dropdown-item-space-x-end: theme(\"padding.3\");\n  --calcite-internal-dropdown-item-space-x-start: theme(\"padding.8\");\n  --calcite-internal-dropdown-item-space-y: 0.5rem;\n\n  &.container--none-selection {\n    --calcite-internal-dropdown-item-space-x-start: theme(\"padding.2\");\n  }\n}\n.container--l {\n  --calcite-internal-dropdown-item-font-size: var(--calcite-font-size-0);\n  --calcite-internal-dropdown-item-icon-space-x-lg: theme(\"margin.4\");\n  --calcite-internal-dropdown-item-icon-space-x-sm: theme(\"margin.1\");\n  --calcite-internal-dropdown-item-icon-space-x-start: theme(\"spacing.3\");\n  --calcite-internal-dropdown-item-line-height: 1.25rem;\n  --calcite-internal-dropdown-item-space-x-end: theme(\"padding.4\");\n  --calcite-internal-dropdown-item-space-x-start: theme(\"padding.10\");\n  --calcite-internal-dropdown-item-space-y: 0.625rem;\n  &.container--none-selection {\n    --calcite-internal-dropdown-item-space-x-start: theme(\"padding.3\");\n  }\n}\n\n// Will always be .dropdown-link (<a>) or .dropdown-item-content(<span><slot></span>). Never both.\n.dropdown-link {\n  @apply focus-base;\n}\n.dropdown-item-content {\n  @apply flex-auto py-0.5;\n  padding-inline-end: theme(\"margin.auto\");\n  padding-inline-start: theme(\"margin.1\");\n}\n\n// item icon\n// Selection Indicator Icon\ncalcite-icon.dropdown-item-icon {\n  --calcite-icon-color: var(\n    --calcite-dropdown-item-indicator-color,\n    var(--calcite-internal-dropdown-item-indicator-color)\n  );\n  @apply absolute\n    duration-150\n    ease-in-out;\n  transform: scale(0.9);\n  inset-inline-start: var(--calcite-internal-dropdown-item-icon-space-x-start, theme(\"spacing.2\"));\n  opacity: var(--calcite-internal-dropdown-item-icon-opacity, 0);\n}\n// Custom Icon Start / End\ncalcite-icon.dropdown-item-icon-start,\ncalcite-icon.dropdown-item-icon-end {\n  --calcite-icon-color: var(--calcite-dropdown-item-icon-color, var(--calcite-internal-dropdown-item-icon-color));\n}\n.dropdown-item-icon-start {\n  margin-inline-end: var(--calcite-internal-dropdown-item-icon-space-x-lg, theme(\"margin.3\"));\n  margin-inline-start: var(--calcite-internal-dropdown-item-icon-space-x-sm, theme(\"margin.1\"));\n}\n.dropdown-item-icon-end {\n  margin-inline-start: var(--calcite-internal-dropdown-item-icon-space-x-lg, theme(\"margin.3\"));\n}\n\n@include base-component();\n@include disabled();\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  VNode,\n} from \"@stencil/core\";\nimport { toAriaBoolean } from \"../../utils/dom\";\nimport { ItemKeyboardEvent } from \"../dropdown/interfaces\";\nimport { RequestedItem } from \"../dropdown-group/interfaces\";\nimport { FlipContext, Scale, SelectionMode } from \"../interfaces\";\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport { getIconScale } from \"../../utils/component\";\nimport {\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport { CSS } from \"./resources\";\n\n/**\n * @slot - A slot for adding text.\n */\n@Component({\n  tag: \"calcite-dropdown-item\",\n  styleUrl: \"dropdown-item.scss\",\n  shadow: true,\n})\nexport class DropdownItem implements InteractiveComponent, LoadableComponent {\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * When `true`, interaction is prevented and the component is displayed with lower opacity.\n   */\n  @Prop({ reflect: true }) disabled = false;\n\n  /**\n   *  Specifies the URL of the linked resource, which can be set as an absolute or relative path.\n   *\n   * Determines if the component will render as an anchor.\n   */\n  @Prop({ reflect: true }) href: string;\n\n  /** Displays the `iconStart` and/or `iconEnd` as flipped when the element direction is right-to-left (`\"rtl\"`). */\n  @Prop({ reflect: true }) iconFlipRtl: FlipContext;\n\n  /** Specifies an icon to display at the start of the component. */\n  @Prop({ reflect: true }) iconStart: string;\n\n  /** Specifies an icon to display at the end of the component. */\n  @Prop({ reflect: true }) iconEnd: string;\n\n  /** Accessible name for the component. */\n  @Prop() label: string;\n\n  /** Specifies the relationship to the linked document defined in `href`. */\n  @Prop({ reflect: true }) rel: string;\n\n  /** When `true`, the component is selected. */\n  @Prop({ reflect: true, mutable: true }) selected = false;\n\n  /** Specifies the frame or window to open the linked document. */\n  @Prop({ reflect: true }) target: string;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /** Fires when the component is selected. */\n  @Event({ cancelable: false }) calciteDropdownItemSelect: EventEmitter<void>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false }) calciteInternalDropdownItemSelect: EventEmitter<RequestedItem>;\n\n  /** @internal */\n  @Event({ cancelable: false })\n  calciteInternalDropdownItemKeyEvent: EventEmitter<ItemKeyboardEvent>;\n\n  /** @internal */\n  @Event({ cancelable: false }) calciteInternalDropdownCloseRequest: EventEmitter<void>;\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /** Sets focus on the component. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n\n    this.el?.focus();\n  }\n\n  /**\n   * Specifies the selection mode inherited from `calcite-dropdown-group`, defaults to `single`:\n   * - `multiple` allows any number of selected items,\n   * - `single` allows only one selection (default),\n   * - `none` doesn't allow for any selection.\n   *\n   * @internal\n   */\n  @Prop() selectionMode: Extract<\"none\" | \"single\" | \"multiple\", SelectionMode> = \"single\";\n\n  /**\n   * Specifies the size of the component inherited from `calcite-dropdown`, defaults to `m`.\n   *\n   * @internal\n   */\n  @Prop() scale: Scale = \"m\";\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  componentWillLoad(): void {\n    setUpLoadableComponent(this);\n    this.initialize();\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n  }\n\n  connectedCallback(): void {\n    this.initialize();\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  render(): VNode {\n    const { href, selectionMode, label, iconFlipRtl, scale } = this;\n\n    const iconStartEl = (\n      <calcite-icon\n        class={CSS.iconStart}\n        flipRtl={iconFlipRtl === \"start\" || iconFlipRtl === \"both\"}\n        icon={this.iconStart}\n        scale={getIconScale(this.scale)}\n      />\n    );\n    const contentNode = (\n      <span class={CSS.itemContent}>\n        <slot />\n      </span>\n    );\n    const iconEndEl = (\n      <calcite-icon\n        class={CSS.iconEnd}\n        flipRtl={iconFlipRtl === \"end\" || iconFlipRtl === \"both\"}\n        icon={this.iconEnd}\n        scale={getIconScale(this.scale)}\n      />\n    );\n\n    const slottedContent =\n      this.iconStart && this.iconEnd\n        ? [iconStartEl, contentNode, iconEndEl]\n        : this.iconStart\n          ? [iconStartEl, contentNode]\n          : this.iconEnd\n            ? [contentNode, iconEndEl]\n            : contentNode;\n\n    const contentEl = !href ? (\n      slottedContent\n    ) : (\n      <a\n        aria-label={label}\n        class={CSS.link}\n        href={href}\n        ref={(el) => (this.childLink = el)}\n        rel={this.rel}\n        tabIndex={-1}\n        target={this.target}\n      >\n        {slottedContent}\n      </a>\n    );\n\n    const itemRole = href\n      ? null\n      : selectionMode === \"single\"\n        ? \"menuitemradio\"\n        : selectionMode === \"multiple\"\n          ? \"menuitemcheckbox\"\n          : \"menuitem\";\n\n    const itemAria = selectionMode !== \"none\" ? toAriaBoolean(this.selected) : null;\n    const { disabled } = this;\n\n    return (\n      <Host\n        aria-checked={itemAria}\n        aria-label={!href ? label : \"\"}\n        role={itemRole}\n        tabIndex={disabled ? -1 : 0}\n      >\n        <InteractiveContainer disabled={disabled}>\n          <div\n            class={{\n              [CSS.container]: true,\n              [CSS.containerLink]: !!href,\n              [`${CSS.container}--${scale}`]: true,\n              [CSS.containerMulti]: selectionMode === \"multiple\",\n              [CSS.containerSingle]: selectionMode === \"single\",\n              [CSS.containerNone]: selectionMode === \"none\",\n            }}\n          >\n            {selectionMode !== \"none\" ? (\n              <calcite-icon\n                class={CSS.icon}\n                icon={selectionMode === \"multiple\" ? \"check\" : \"bullet-point\"}\n                scale={getIconScale(this.scale)}\n              />\n            ) : null}\n            {contentEl}\n          </div>\n        </InteractiveContainer>\n      </Host>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"click\") onClick(): void {\n    this.emitRequestedItem();\n  }\n\n  @Listen(\"keydown\")\n  keyDownHandler(event: KeyboardEvent): void {\n    switch (event.key) {\n      case \" \":\n      case \"Enter\":\n        this.emitRequestedItem();\n        if (this.href) {\n          this.childLink.click();\n        }\n        event.preventDefault();\n        break;\n      case \"Escape\":\n        this.calciteInternalDropdownCloseRequest.emit();\n        event.preventDefault();\n        break;\n      case \"Tab\":\n        this.calciteInternalDropdownItemKeyEvent.emit({ keyboardEvent: event });\n        break;\n      case \"ArrowUp\":\n      case \"ArrowDown\":\n      case \"Home\":\n      case \"End\":\n        event.preventDefault();\n        this.calciteInternalDropdownItemKeyEvent.emit({ keyboardEvent: event });\n        break;\n    }\n  }\n\n  @Listen(\"calciteInternalDropdownItemChange\", { target: \"body\" })\n  updateActiveItemOnChange(event: CustomEvent): void {\n    const parentEmittedChange = event.composedPath().includes(this.parentDropdownGroupEl);\n\n    if (parentEmittedChange) {\n      this.requestedDropdownGroup = event.detail.requestedDropdownGroup;\n      this.requestedDropdownItem = event.detail.requestedDropdownItem;\n      this.determineActiveItem();\n    }\n    event.stopPropagation();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteDropdownItemElement;\n\n  /** id of containing group */\n  private parentDropdownGroupEl: HTMLCalciteDropdownGroupElement;\n\n  /** requested group */\n  private requestedDropdownGroup: HTMLCalciteDropdownGroupElement;\n\n  /** requested item */\n  private requestedDropdownItem: HTMLCalciteDropdownItemElement;\n\n  /** if href is requested, track the rendered child link*/\n  private childLink: HTMLAnchorElement;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  private initialize(): void {\n    this.parentDropdownGroupEl = this.el.closest(\"calcite-dropdown-group\");\n    if (this.selectionMode === \"none\") {\n      this.selected = false;\n    }\n  }\n\n  private determineActiveItem(): void {\n    switch (this.selectionMode) {\n      case \"multiple\":\n        if (this.el === this.requestedDropdownItem) {\n          this.selected = !this.selected;\n        }\n        break;\n\n      case \"single\":\n        if (this.el === this.requestedDropdownItem) {\n          this.selected = true;\n        } else if (this.requestedDropdownGroup === this.parentDropdownGroupEl) {\n          this.selected = false;\n        }\n        break;\n\n      case \"none\":\n        this.selected = false;\n        break;\n    }\n  }\n\n  private emitRequestedItem(): void {\n    this.calciteDropdownItemSelect.emit();\n    this.calciteInternalDropdownItemSelect.emit({\n      requestedDropdownItem: this.el,\n      requestedDropdownGroup: this.parentDropdownGroupEl,\n    });\n  }\n}\n"],"mappings":"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"}