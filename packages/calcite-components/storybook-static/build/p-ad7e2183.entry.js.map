{"version":3,"names":["linkCss","CalciteLinkStyle0","Link","this","childElClickHandler","event","isTrusted","stopPropagation","storeTagRef","el","childEl","connectedCallback","connectInteractive","componentWillLoad","setUpLoadableComponent","componentDidLoad","setComponentLoaded","componentDidRender","updateHostInteraction","disconnectedCallback","disconnectInteractive","render","download","dir","getElementDir","childElType","href","iconStartEl","h","key","class","flipRtl","iconFlipRtl","icon","iconStart","scale","iconEndEl","iconEnd","Tag","role","tabIndex","Host","InteractiveContainer","disabled","CSS_UTILITY","rtl","onClick","ref","rel","target","clickHandler","click","setFocus","componentFocusable","focusElement"],"sources":["src/components/link/link.scss?tag=calcite-link&encapsulation=shadow","src/components/link/link.tsx"],"sourcesContent":["/**\n * CSS Custom Properties\n *\n * These properties can be overridden using the component's tag as selector.\n *\n * @prop --calcite-link-text-color: Specifies the text color of the component.\n * @prop --calcite-link-background-color: Specifies the background color of the component.\n * @prop --calcite-link-icon-color: Specifies the color of the component's icons.\n * @prop --calcite-link-underline-color-start: Specifies the starting color of the underline of the component.\n * @prop --calcite-link-underline-color-end: Specifies the ending color of the underline of the component.\n */\n\n:host {\n  display: inline;\n}\n\nspan,\na {\n  @apply border-none\n    cursor-pointer\n    font-inherit\n    items-center\n    justify-center\n    p-0\n    relative\n    rounded-none\n    transition-default\n    inline;\n\n  -webkit-appearance: none;\n  background-color: var(--calcite-link-background-color, transparent);\n  background-image: linear-gradient(currentColor, currentColor),\n    linear-gradient(\n      var(--calcite-link-underline-color-start, var(--calcite-color-brand-underline)),\n      var(--calcite-link-underline-color-end, var(--calcite-color-brand-underline))\n    );\n  background-position-x: 0%, 100%;\n  background-position-y: min(1.5em, 100%);\n  background-repeat: no-repeat, no-repeat;\n  background-size:\n    0% 1px,\n    100% 1px;\n  font-size: inherit;\n  line-height: inherit;\n  text-decoration: none;\n  white-space: initial;\n  color: var(--calcite-link-text-color, var(--calcite-color-text-link));\n\n  &:hover,\n  &:focus {\n    background-size:\n      100% 1px,\n      100% 1px;\n  }\n  &:hover {\n    text-decoration: none;\n  }\n\n  // focus styles\n  @apply focus-base;\n  &:focus {\n    @apply focus-outset;\n  }\n  &:active {\n    background-size:\n      100% 2px,\n      100% 2px;\n  }\n  &.calcite--rtl {\n    background-position:\n      100% 100%,\n      100% 100%;\n  }\n}\n\ncalcite-icon {\n  --calcite-icon-color: var(--calcite-link-icon-color, currentColor);\n  @apply transition-default align-middle;\n\n  inline-size: 1em;\n  block-size: 1em;\n  min-inline-size: unset;\n  min-block-size: unset;\n  margin-block-start: -0.25em;\n\n  // icon positioning and styles\n  &.icon-start {\n    margin-inline-end: theme(\"margin.2\");\n  }\n  &.icon-end {\n    margin-inline-start: theme(\"margin.2\");\n  }\n}\n\n@include disabled();\n@include base-component();\n","import { Component, Element, h, Host, Listen, Method, Prop, VNode } from \"@stencil/core\";\nimport { focusElement, getElementDir } from \"../../utils/dom\";\nimport {\n  connectInteractive,\n  disconnectInteractive,\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport { CSS_UTILITY } from \"../../utils/resources\";\nimport { FlipContext } from \"../interfaces\";\n\n/** Any attributes placed on <calcite-link> component will propagate to the rendered child */\n/** Passing a 'href' will render an anchor link, instead of a span. Role will be set to link, or link, depending on this. */\n/** It is the consumers responsibility to add aria information, rel, target, for links, and any link attributes for form submission */\n\n/** @slot - A slot for adding text. */\n@Component({\n  tag: \"calcite-link\",\n  styleUrl: \"link.scss\",\n  shadow: true,\n})\nexport class Link implements InteractiveComponent, LoadableComponent {\n  //--------------------------------------------------------------------------\n  //\n  //  Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /** When `true`, interaction is prevented and the component is displayed with lower opacity. */\n  @Prop({ reflect: true }) disabled = false;\n\n  /**\n   * Prompts the user to save the linked URL instead of navigating to it. Can be used with or without a value:\n   * Without a value, the browser will suggest a filename/extension\n   * See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-download.\n   */\n  @Prop({ reflect: true }) download: string | boolean = false;\n\n  /** Specifies the URL of the linked resource, which can be set as an absolute or relative path. */\n  @Prop({ reflect: true }) href: string;\n\n  /** Specifies an icon to display at the end of the component. */\n  @Prop({ reflect: true }) iconEnd: string;\n\n  /** Displays the `iconStart` and/or `iconEnd` as flipped when the element direction is right-to-left (`\"rtl\"`). */\n  @Prop({ reflect: true }) iconFlipRtl: FlipContext;\n\n  /** Specifies an icon to display at the start of the component. */\n  @Prop({ reflect: true }) iconStart: string;\n\n  /** Specifies the relationship to the linked document defined in `href`. */\n  @Prop() rel: string;\n\n  /** Specifies the frame or window to open the linked document. */\n  @Prop() target: string;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    connectInteractive(this);\n  }\n\n  componentWillLoad(): void {\n    setUpLoadableComponent(this);\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  disconnectedCallback(): void {\n    disconnectInteractive(this);\n  }\n\n  render(): VNode {\n    const { download, el } = this;\n    const dir = getElementDir(el);\n    const childElType = this.href ? \"a\" : \"span\";\n    const iconStartEl = (\n      <calcite-icon\n        class=\"icon-start\"\n        flipRtl={this.iconFlipRtl === \"start\" || this.iconFlipRtl === \"both\"}\n        icon={this.iconStart}\n        scale=\"s\"\n      />\n    );\n\n    const iconEndEl = (\n      <calcite-icon\n        class=\"icon-end\"\n        flipRtl={this.iconFlipRtl === \"end\" || this.iconFlipRtl === \"both\"}\n        icon={this.iconEnd}\n        scale=\"s\"\n      />\n    );\n\n    const Tag = childElType;\n    const role = childElType === \"span\" ? \"link\" : null;\n    const tabIndex = childElType === \"span\" ? 0 : null;\n\n    return (\n      <Host role=\"presentation\">\n        <InteractiveContainer disabled={this.disabled}>\n          <Tag\n            class={{ [CSS_UTILITY.rtl]: dir === \"rtl\" }}\n            /*\n          When the 'download' property of type 'boolean | string' is set to true, the value is \"\".\n          This works around that issue for now.\n          */\n            download={Tag === \"a\" && (download === \"\" || download) ? download : null}\n            href={Tag === \"a\" && this.href}\n            onClick={this.childElClickHandler}\n            ref={this.storeTagRef}\n            rel={Tag === \"a\" && this.rel}\n            role={role}\n            tabIndex={tabIndex}\n            target={Tag === \"a\" && this.target}\n          >\n            {this.iconStart ? iconStartEl : null}\n            <slot />\n            {this.iconEnd ? iconEndEl : null}\n          </Tag>\n        </InteractiveContainer>\n      </Host>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"click\")\n  clickHandler(event: PointerEvent): void {\n    if (this.disabled) {\n      return;\n    }\n\n    // forwards the click() to the internal link for non user-initiated events\n    if (!event.isTrusted) {\n      this.childEl.click();\n    }\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /** Sets focus on the component. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n\n    focusElement(this.childEl);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteLinkElement;\n\n  /** the rendered child element */\n  private childEl: HTMLAnchorElement | HTMLSpanElement;\n\n  private childElClickHandler = (event: PointerEvent): void => {\n    if (!event.isTrusted) {\n      // click was invoked internally, we stop it here\n      event.stopPropagation();\n    }\n  };\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  private storeTagRef = (el: Link[\"childEl\"]): void => {\n    this.childEl = el;\n  };\n}\n"],"mappings":";;;;;8RAAA,MAAMA,EAAU,inFAChB,MAAAC,EAAeD,E,MC2BFE,EAAI,M,yBA6JPC,KAAAC,oBAAuBC,IAC7B,IAAKA,EAAMC,UAAW,CAEpBD,EAAME,iB,GAUFJ,KAAAK,YAAeC,IACrBN,KAAKO,QAAUD,CAAE,E,cAnKiB,M,cAOkB,M,wIA0BtD,iBAAAE,GACEC,EAAmBT,K,CAGrB,iBAAAU,GACEC,EAAuBX,K,CAGzB,gBAAAY,GACEC,EAAmBb,K,CAGrB,kBAAAc,GACEC,EAAsBf,K,CAGxB,oBAAAgB,GACEC,EAAsBjB,K,CAGxB,MAAAkB,GACE,MAAMC,SAAEA,EAAQb,GAAEA,GAAON,KACzB,MAAMoB,EAAMC,EAAcf,GAC1B,MAAMgB,EAActB,KAAKuB,KAAO,IAAM,OACtC,MAAMC,EACJC,EAAA,gBAAAC,IAAA,2CACEC,MAAM,aACNC,QAAS5B,KAAK6B,cAAgB,SAAW7B,KAAK6B,cAAgB,OAC9DC,KAAM9B,KAAK+B,UACXC,MAAM,MAIV,MAAMC,EACJR,EAAA,gBAAAC,IAAA,2CACEC,MAAM,WACNC,QAAS5B,KAAK6B,cAAgB,OAAS7B,KAAK6B,cAAgB,OAC5DC,KAAM9B,KAAKkC,QACXF,MAAM,MAIV,MAAMG,EAAMb,EACZ,MAAMc,EAAOd,IAAgB,OAAS,OAAS,KAC/C,MAAMe,EAAWf,IAAgB,OAAS,EAAI,KAE9C,OACEG,EAACa,EAAI,CAAAZ,IAAA,2CAACU,KAAK,gBACTX,EAACc,EAAoB,CAAAb,IAAA,2CAACc,SAAUxC,KAAKwC,UACnCf,EAACU,EAAG,CAAAT,IAAA,2CACFC,MAAO,CAAE,CAACc,EAAYC,KAAMtB,IAAQ,OAKpCD,SAAUgB,IAAQ,MAAQhB,IAAa,IAAMA,GAAYA,EAAW,KACpEI,KAAMY,IAAQ,KAAOnC,KAAKuB,KAC1BoB,QAAS3C,KAAKC,oBACd2C,IAAK5C,KAAKK,YACVwC,IAAKV,IAAQ,KAAOnC,KAAK6C,IACzBT,KAAMA,EACNC,SAAUA,EACVS,OAAQX,IAAQ,KAAOnC,KAAK8C,QAE3B9C,KAAK+B,UAAYP,EAAc,KAChCC,EAAA,QAAAC,IAAA,6CACC1B,KAAKkC,QAAUD,EAAY,O,CActC,YAAAc,CAAa7C,GACX,GAAIF,KAAKwC,SAAU,CACjB,M,CAIF,IAAKtC,EAAMC,UAAW,CACpBH,KAAKO,QAAQyC,O,EAYjB,cAAMC,SACEC,EAAmBlD,MAEzBmD,EAAanD,KAAKO,Q"}