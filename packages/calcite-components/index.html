<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>Demos</title>
    <script src="/src/demos/_assets/head.ts"></script>
    <style>
      a {
        text-decoration: none;
      }
    </style>
  </head>

  <body>
    <!-- test case 1 -->
    <!--    <calcite-label layout="inline">-->
    <!--      Toggle panel block-->
    <!--      <calcite-switch></calcite-switch>-->
    <!--    </calcite-label>-->

    <!-- test case 2 -->
    <p>
      <button onclick="remove('calcite-icon');">Remove icon</button>
      <calcite-icon icon="check-circle"></calcite-icon>
    </p>
    <p>
      <button onclick="remove('calcite-link')">Remove link</button>
      <calcite-link open>Link</calcite-link>
    </p>

    <script>
      const registry = new FinalizationRegistry((heldValue) => {
        console.log(`garbage collected "${heldValue}"`);
      });

      /* test case 1 */

      // const htmlSwitch = document.querySelector('calcite-switch')
      // let i = 0
      //
      // htmlSwitch.addEventListener('calciteSwitchChange', () => {
      //   if (htmlSwitch.checked) {
      //     i++
      //     console.log(`creating "CALCITE-BLOCK ${i}"`)
      //     addBlock()
      //   } else {
      //     console.log(`destroying "CALCITE-BLOCK ${i}"`)
      //     removeBlock()
      //   }
      // })
      //
      // function addBlock() {
      //   const block = document.createElement('calcite-block')
      //
      //   block.heading = 'Block heading'
      //   block.open = true
      //
      //   registry.register(block, `${block.tagName} ${i}`)
      //   document.body.append(block)
      // }
      //
      // function removeBlock() {
      //   const block = document.querySelector('calcite-block')
      //   block.remove()
      // }

      /* test case 2 */

      function remove(tagName) {
        const element = document.querySelector(tagName);
        console.log(`removing "${element.tagName}"`);
        registry.register(element, `${element.tagName}`);
        element.remove();
      }
    </script>
  </body>
</html>
